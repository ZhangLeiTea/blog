1. MySQL的源码构建
1）https://dev.mysql.com/doc/refman/5.7/en/installing-source-distribution.html#installing-source-distribution-configure-distribution
    mysql的官网讲的比较清晰了
2）如果有自己的配置选项，请参照
    https://dev.mysql.com/doc/refman/5.7/en/source-configuration-options.html
    这里给出了cmake的配置选项。定义这些选项  cmake -DCMAKE_INSTALL_PRIFIX=/usr/local/mysql  
    
3）这里补充几个没给出的选项
    WITHOUT_SERVER=ON   仅仅构建MySQL-client程序


2. 
  - mysql采用cmake来作为构建框架，用于生成Linux平台的make文件或者window平台的*.sln等工程文件，然后make再根据生成的工程文件进行编译-链接-安装
  - cmake作为MySQL编译的配置阶段，代替了原来的configure脚本程序
  - make package 很有用，直接生成二进制包

3. 给出一个完整的参照
  > 下载MySQL源码
  > 解压到/home/zl/mysql57目录下
  > cd /home/zl/mysql57
  > 下载boost源码并解压到该目录下
  > mkdir bld
  > cmake -DWITHOUT_SERVER=1  -DWITH_BOOST=./boost
  > make package
  > 或者  make && make install # 直接安装到机器中
  
  
4. docker的源码编译
    echo 'deb http://****/debian stretch main contrib non-free' > /etc/apt/sources.list
    apt update
    apt install -y --no-install-recommends build-essential cmake libc++-dev libssl-dev libncurses5-dev libnuma-dev liaio1 libatomic1
    cmake -DWITHOUT_SERVER=1  -DWITH_BOOST=./boost -DCMAKE_INSTALL_PREFIX=/usr
    make -j5 && make install
    make package


5. mysql运行的一些依赖
    apt install libatomic1 libssl-dev libncurses5
    
    
 二、dockerfile
 
    from **
    copy mysql-5.7.28-client.tar.gz /tmp/mysqlclient5.7.tar.gz
    run cd /tmp \
        && tar xf /tmp/mysqlclient5.7.tar.gz \
        && mkdir -p /usr/local/mysql \
        && mv /tmp/mysql-5.7.28-client/* /usr/local/mysql \         # 坑点：mv虽然重命名了，但是解压出来的包仍是原来的目录名
        && ehco '****' > /etc/apt/source.list \
        && apt-get update \
        && apt-get -y install libatomic1 libssl-dev libncurses5
    env PATH=/usr/local/mysql/bin:$PATH
    cmd echo $(mysqldump -V)
